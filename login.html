<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="css/login.css" />
		<title>Signin & Sign up</title>
	</head>

	<body>
		<div class="img-container">
			<img src="img/bgLogin.png" alt="Background Image" />
		</div>
		<div class="container">
			<div class="wrapper">
				<div class="form-container sign-up">
					<form action="#">
						<h2>sign up</h2>
						<div class="form-group">
							<input type="text" required />
							<i class="fas fa-user"></i>
							<label for="">username</label>
						</div>
						<div class="form-group">
							<input type="text" required />
							<i class="fas fa-user"></i>
							<label for="">Fullname</label>
						</div>
						<div class="form-group">
							<input
								type="email"
								required
								pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
								title="Vui lòng nhập địa chỉ email hợp lệ"
							/>
							<i class="fas fa-at"></i>
							<label for="">email</label>
						</div>
						<div class="form-group">
							<input type="password" required id="pass" />
							<i class="fas fa-lock"></i>
							<label for="">password</label>
						</div>
						<div class="form-group">
							<input type="password" required id="confirmPass" />
							<i class="fas fa-lock"></i>
							<label for="">confirm password</label>
						</div>
						<button type="submit" class="btn">sign up</button>
						<div class="link">
							<p>
								You already have an account?<a
									href="#"
									class="signin-link"
								>
									sign in</a
								>
							</p>
							<p>You want to return?<a href="index.html"> Undo</a></p>
						</div>
					</form>
				</div>
				<div class="form-container sign-in">
					<form action="#">
						<h2>login</h2>
						<div class="form-group">
							<input type="text" required />
							<i class="fas fa-user"></i>
							<label for="">username</label>
						</div>
						<div class="form-group">
							<input type="password" required />
							<i class="fas fa-lock"></i>
							<label for="">password</label>
						</div>
						<div class="forgot-pass">
							<a href="#">forgot password?</a>
						</div>
						<!-- <button type="submit" class="btn">
							<a
								href="index.html"
								style="text-decoration: none; color: inherit"
								>login</a
							>
						</button> -->
						<button type="submit" class="btn">login</button>
						<div class="link">
							<p>
								Don't have an account?<a href="#" class="signup-link">
									sign up</a
								>
							</p>
							<p>You want to return?<a href="index.html"> Undo</a></p>
						</div>
					</form>
				</div>
			</div>
		</div>
		<script
			src="https://kit.fontawesome.com/9e5ba2e3f5.js"
			crossorigin="anonymous"
		></script>
		<script>
			let wrapper = document.querySelector('.wrapper');
			let signUpLink = document.querySelector('.link .signup-link');
			let signInLink = document.querySelector('.link .signin-link');
			let signUpForm = document.querySelector('.sign-up form');
			let signInForm = document.querySelector('.sign-in form');

			signUpLink.addEventListener('click', () => {
				wrapper.classList.add('animated-signin');
				wrapper.classList.remove('animated-signup');
			});

			signInLink.addEventListener('click', () => {
				wrapper.classList.add('animated-signup');
				wrapper.classList.remove('animated-signin');
			});

			signUpForm.addEventListener('submit', (e) => {
				e.preventDefault();
				let usernameInput = signUpForm.querySelector('input[type="text"]');
				let emailInput = signUpForm.querySelector('input[type="email"]');
				// let passwordInput = signUpForm.querySelector(
				// 	'input[type="password"]:nth-of-type(1)'
				// );
				// let confirmPasswordInput = signUpForm.querySelector(
				// 	'input[type="password"]:nth-of-type(2)'
				// );

				let passwordInput = document.getElementById('pass');
				let confirmPasswordInput = document.getElementById('confirmPass');

				// Kiểm tra username
				if (usernameInput.value.length < 4) {
					alert('Username must be at least 4 characters long.');
					return;
				}

				// Kiểm tra email
				if (
					!emailInput.value.match(
						/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/
					)
				) {
					alert('Invalid email format.');
					return;
				}

				// Kiểm tra mật khẩu
				if (passwordInput.value.length < 6) {
					alert('Password must be at least 6 characters long.');
					return;
				}

				// Kiểm tra xác nhận mật khẩu
				if (passwordInput.value != confirmPasswordInput.value) {
					alert('Passwords do not match.');
					return;
				}

				// Nếu tất cả các kiểm tra đều đạt, cho phép submit form
				alert('Registration successful!');

				usernameInput.value = '';
				emailInput.value = '';
				passwordInput.value = '';
				confirmPasswordInput.value = '';
				signUpForm.submit();
			});

			signInForm.addEventListener('submit', (e) => {
				e.preventDefault();
				let usernameInput = signInForm.querySelector('input[type="text"]');
				let passwordInput = signInForm.querySelector(
					'input[type="password"]'
				);

				// Kiểm tra username
				if (usernameInput.value.length < 4) {
					alert('Username must be at least 4 characters long.');
					return;
				}

				// Kiểm tra mật khẩu
				if (passwordInput.value.length < 6) {
					alert('Password must be at least 6 characters long.');
					return;
				}

				alert('Login successful!');
				window.location.href = 'index.html';

				// Thực hiện các kiểm tra đăng nhập tại đây
				// Ví dụ: Gửi yêu cầu đăng nhập lên server và kiểm tra kết quả
				// Nếu đăng nhập thành công, cho phép submit form
				// alert('Login successful!');
				// signInForm.submit();
			});
		</script>
	</body>
</html>
